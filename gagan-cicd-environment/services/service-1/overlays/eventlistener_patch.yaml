- Op: add
  Path: /spec/triggers/-
  Value:
    bindings:
    - name: github-pr-binding
    interceptors:
    - cel:
        filter: (header.match('X-GitHub-Event', 'pull_request') && body.action ==
          'opened' || body.action == 'synchronize') && body.pull_request.head.repo.full_name
          == 'gagan-app'%!(EXTRA string=sample)
    - github:
        secretRef:
          secretKey: webhook-secret-key
          secretName: gitops-webhook-secret
    name: staging
    template:
      name: app-ci-template
- Op: add
  Path: /spec/triggers/-
  Value:
    bindings:
    - name: github-push-binding
    interceptors:
    - cel:
        filter: (header.match('X-GitHub-Event', 'push') && body.repository.full_name
          == 'gagan-app') && body.ref.startsWith('refs/heads/master')%!(EXTRA string=sample)
    - github:
        secretRef:
          secretKey: webhook-secret-key
          secretName: gitops-webhook-secret
    name: staging
    template:
      name: app-cd-template
---
